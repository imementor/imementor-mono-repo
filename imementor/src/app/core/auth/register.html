<div class="register-container">
  <div class="register-card">
    <!-- Logo -->
    <div class="auth-logo">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="reg-gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
          </linearGradient>
          <linearGradient id="reg-gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
          </linearGradient>
          <linearGradient id="reg-gradient3" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
          </linearGradient>
          <marker id="reg-arrowhead" markerWidth="8" markerHeight="6" 
           refX="7" refY="3" orient="auto">
            <polygon points="0 0, 8 3, 0 6" fill="url(#reg-gradient3)" />
          </marker>
        </defs>
        
        <circle cx="75" cy="85" r="22" fill="url(#reg-gradient1)"/>
        <circle cx="125" cy="95" r="16" fill="url(#reg-gradient2)"/>
        <path d="M 97 89 L 109 92" stroke="url(#reg-gradient3)" stroke-width="3" fill="none" marker-end="url(#reg-arrowhead)"/>
      </svg>
    </div>

    <!-- Header -->
    <div class="auth-header">
      <h1>Mag-register sa IMementor</h1>
      <p>Simulan ang inyong mentorship journey ngayon</p>
    </div>

    <!-- User Type Selection -->
    <div class="user-type-selector">
      <button 
        type="button" 
        class="user-type-btn" 
        [class.active]="userType === 'mentee'"
        (click)="selectUserType('mentee')">
        <div class="icon">ğŸ‘¥</div>
        <span>Mentee</span>
        <small>Makakuha ng guidance</small>
      </button>
      <button 
        type="button" 
        class="user-type-btn" 
        [class.active]="userType === 'mentor'"
        (click)="selectUserType('mentor')">
        <div class="icon">ğŸ“</div>
        <span>Mentor</span>
        <small>Magbahagi ng kaalaman</small>
      </button>
    </div>

    <!-- Registration Form -->
    <form id="registerForm" class="register-form" (ngSubmit)="onRegister()" #registerForm="ngForm">
      <!-- Personal Information -->
      <div class="form-section">
        <h3>Personal na Impormasyon</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">Unang Pangalan</label>
            <input 
              type="text" 
              id="firstName" 
              name="firstName"
              [(ngModel)]="registerData.firstName"
              #firstName="ngModel"
              required
              minlength="2"
              class="form-control"
              placeholder="Ilagay ang unang pangalan"
              [class.error]="firstName.invalid && firstName.touched">
            <div class="error-message" *ngIf="firstName.invalid && firstName.touched">
              <span *ngIf="firstName.errors?.['required']">Unang pangalan ay kinakailangan</span>
              <span *ngIf="firstName.errors?.['minlength']">Hindi bababa sa 2 character</span>
            </div>
          </div>

          <div class="form-group">
            <label for="lastName">Apelyido</label>
            <input 
              type="text" 
              id="lastName" 
              name="lastName"
              [(ngModel)]="registerData.lastName"
              #lastName="ngModel"
              required
              minlength="2"
              class="form-control"
              placeholder="Ilagay ang apelyido"
              [class.error]="lastName.invalid && lastName.touched">
            <div class="error-message" *ngIf="lastName.invalid && lastName.touched">
              <span *ngIf="lastName.errors?.['required']">Apelyido ay kinakailangan</span>
              <span *ngIf="lastName.errors?.['minlength']">Hindi bababa sa 2 character</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="registerData.email"
            #email="ngModel"
            required
            email
            class="form-control"
            placeholder="Ilagay ang inyong email"
            [class.error]="email.invalid && email.touched">
          <div class="error-message" *ngIf="email.invalid && email.touched">
            <span *ngIf="email.errors?.['required']">Email ay kinakailangan</span>
            <span *ngIf="email.errors?.['email']">Maglagay ng tamang email</span>
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Numero ng Telepono</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone"
            [(ngModel)]="registerData.phone"
            #phone="ngModel"
            required
            pattern="[0-9]{11}"
            class="form-control"
            placeholder="09xxxxxxxxx"
            [class.error]="phone.invalid && phone.touched">
          <div class="error-message" *ngIf="phone.invalid && phone.touched">
            <span *ngIf="phone.errors?.['required']">Numero ng telepono ay kinakailangan</span>
            <span *ngIf="phone.errors?.['pattern']">Maglagay ng tamang numero (11 digits)</span>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="password">Password</label>
            <div class="password-input">
              <input 
                [type]="showPassword ? 'text' : 'password'"
                id="password" 
                name="password"
                [(ngModel)]="registerData.password"
                #password="ngModel"
                required
                minlength="8"
                class="form-control"
                placeholder="Maglagay ng malakas na password"
                [class.error]="password.invalid && password.touched">
              <button 
                type="button" 
                class="password-toggle"
                (click)="togglePassword()">
                {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
            <div class="error-message" *ngIf="password.invalid && password.touched">
              <span *ngIf="password.errors?.['required']">Password ay kinakailangan</span>
              <span *ngIf="password.errors?.['minlength']">Hindi bababa sa 8 character</span>
            </div>
          </div>

          <div class="form-group">
            <label for="confirmPassword">Kumpirmahin ang Password</label>
            <div class="password-input">
              <input 
                [type]="showConfirmPassword ? 'text' : 'password'"
                id="confirmPassword" 
                name="confirmPassword"
                [(ngModel)]="registerData.confirmPassword"
                #confirmPassword="ngModel"
                required
                class="form-control"
                placeholder="Ulitin ang password"
                [class.error]="(confirmPassword.invalid && confirmPassword.touched) || passwordMismatch">
              <button 
                type="button" 
                class="password-toggle"
                (click)="toggleConfirmPassword()">
                {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
              </button>
            </div>
            <div class="error-message" *ngIf="(confirmPassword.invalid && confirmPassword.touched) || passwordMismatch">
              <span *ngIf="confirmPassword.errors?.['required']">Kumpirmahin ang password</span>
              <span *ngIf="passwordMismatch">Hindi magkapareho ang mga password</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Mentor-specific fields -->
      <div class="form-section" *ngIf="userType === 'mentor'">
        <h3>Impormasyon para sa Mentor</h3>
        
        <div class="form-group">
          <label for="expertise">Larangan ng Dalubhasa</label>
          <select 
            id="expertise" 
            name="expertise"
            [(ngModel)]="registerData.expertise"
            #expertise="ngModel"
            required
            class="form-control"
            [class.error]="expertise.invalid && expertise.touched">
            <option value="">Pumili ng larangan</option>
            <option value="technology">Technology & IT</option>
            <option value="business">Business & Entrepreneurship</option>
            <option value="education">Education & Teaching</option>
            <option value="healthcare">Healthcare & Medicine</option>
            <option value="engineering">Engineering</option>
            <option value="arts">Arts & Creative</option>
            <option value="finance">Finance & Accounting</option>
            <option value="law">Law & Legal</option>
            <option value="science">Science & Research</option>
            <option value="other">Iba pa</option>
          </select>
          <div class="error-message" *ngIf="expertise.invalid && expertise.touched">
            <span *ngIf="expertise.errors?.['required']">Pumili ng larangan ng dalubhasa</span>
          </div>
        </div>

        <div class="form-group">
          <label for="experience">Taon ng Karanasan</label>
          <select 
            id="experience" 
            name="experience"
            [(ngModel)]="registerData.experience"
            #experience="ngModel"
            required
            class="form-control"
            [class.error]="experience.invalid && experience.touched">
            <option value="">Pumili ng karanasan</option>
            <option value="1-2">1-2 taon</option>
            <option value="3-5">3-5 taon</option>
            <option value="6-10">6-10 taon</option>
            <option value="10+">10+ taon</option>
          </select>
          <div class="error-message" *ngIf="experience.invalid && experience.touched">
            <span *ngIf="experience.errors?.['required']">Pumili ng taon ng karanasan</span>
          </div>
        </div>

        <div class="form-group">
          <label for="bio">Maikling Pagpapakilala</label>
          <textarea 
            id="bio" 
            name="bio"
            [(ngModel)]="registerData.bio"
            #bio="ngModel"
            required
            minlength="50"
            maxlength="500"
            rows="4"
            class="form-control"
            placeholder="Magkwento ng kaunti tungkol sa inyong sarili at sa inyong karanasan..."
            [class.error]="bio.invalid && bio.touched"></textarea>
          <div class="char-count">{{ registerData.bio?.length || 0 }}/500</div>
          <div class="error-message" *ngIf="bio.invalid && bio.touched">
            <span *ngIf="bio.errors?.['required']">Pagpapakilala ay kinakailangan</span>
            <span *ngIf="bio.errors?.['minlength']">Hindi bababa sa 50 character</span>
          </div>
        </div>
      </div>

      <!-- Mentee-specific fields -->
      <div class="form-section" *ngIf="userType === 'mentee'">
        <h3>Impormasyon para sa Mentee</h3>
        
        <div class="form-group">
          <label for="interests">Mga Interes</label>
          <select 
            id="interests" 
            name="interests"
            [(ngModel)]="registerData.interests"
            #interests="ngModel"
            required
            class="form-control"
            [class.error]="interests.invalid && interests.touched">
            <option value="">Pumili ng interes</option>
            <option value="technology">Technology & IT</option>
            <option value="business">Business & Entrepreneurship</option>
            <option value="education">Education & Teaching</option>
            <option value="healthcare">Healthcare & Medicine</option>
            <option value="engineering">Engineering</option>
            <option value="arts">Arts & Creative</option>
            <option value="finance">Finance & Accounting</option>
            <option value="law">Law & Legal</option>
            <option value="science">Science & Research</option>
            <option value="other">Iba pa</option>
          </select>
          <div class="error-message" *ngIf="interests.invalid && interests.touched">
            <span *ngIf="interests.errors?.['required']">Pumili ng interes</span>
          </div>
        </div>

        <div class="form-group">
          <label for="goals">Mga Layunin</label>
          <textarea 
            id="goals" 
            name="goals"
            [(ngModel)]="registerData.goals"
            #goals="ngModel"
            required
            minlength="30"
            maxlength="300"
            rows="3"
            class="form-control"
            placeholder="Ano ang inyong mga layunin at ano ang gusto ninyong matutuhan?"
            [class.error]="goals.invalid && goals.touched"></textarea>
          <div class="char-count">{{ registerData.goals?.length || 0 }}/300</div>
          <div class="error-message" *ngIf="goals.invalid && goals.touched">
            <span *ngIf="goals.errors?.['required']">Mga layunin ay kinakailangan</span>
            <span *ngIf="goals.errors?.['minlength']">Hindi bababa sa 30 character</span>
          </div>
        </div>
      </div>

      <!-- Terms and Conditions -->
      <div class="form-group">
        <label class="checkbox-container">
          <input 
            type="checkbox" 
            [(ngModel)]="acceptTerms" 
            name="acceptTerms"
            #terms="ngModel"
            required>
          <span class="checkmark"></span>
          Sumasang-ayon ako sa <a href="#" class="terms-link">Terms and Conditions</a> at <a href="#" class="terms-link">Privacy Policy</a>
        </label>
        <div class="error-message" *ngIf="terms.invalid && terms.touched">
          <span *ngIf="terms.errors?.['required']">Kailangan sumang-ayon sa terms and conditions</span>
        </div>
      </div>
    </form>

    <!-- Bottom section with submit button and links -->
    <div class="register-bottom">
      <button 
        type="submit" 
        form="registerForm"
        class="register-btn"
        [disabled]="registerForm.invalid || isLoading || passwordMismatch">
        <span *ngIf="!isLoading">Mag-register</span>
        <span *ngIf="isLoading" class="loading">Nagre-register...</span>
      </button>

      <!-- Login Link -->
      <div class="auth-footer">
        <p>May account na kayo? 
          <a (click)="goToLogin()" class="login-link">Mag-login dito</a>
        </p>
      </div>
    </div>
  </div>
</div>
