import{m as h}from"./chunk-T6MQH65C.js";import{f as u}from"./chunk-SCSCM6ZC.js";import{E as a,Fb as m,I as i,Ya as s,Z as o,ab as c,lb as p,mb as r,nb as d,ob as l,pc as g,uc as f}from"./chunk-Q3SXWR5O.js";function b(t,e){t&1&&(r(0,"div",1)(1,"div",2),l(2,"div",3),r(3,"p"),m(4,"Loading..."),d()()())}var v=class t{authService=o(h);router=o(u);isLoading=!0;ngOnInit(){this.authService.loading$.pipe(a(e=>!e),i(1)).subscribe(()=>{this.checkAuthAndRedirect()})}checkAuthAndRedirect(){this.authService.user$.pipe(i(1)).subscribe(e=>{e?this.router.url!=="/"&&(console.log("User authenticated, redirecting to portal"),this.router.navigateByUrl("/portal",{replaceUrl:!0})):(console.log("User not authenticated, redirecting to landing page"),this.router.navigateByUrl("/landing",{replaceUrl:!0})),this.isLoading=!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=s({type:t,selectors:[["app-root-redirect"]],decls:1,vars:1,consts:[["class","loading-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"]],template:function(n,C){n&1&&c(0,b,5,0,"div",0),n&2&&p("ngIf",C.isLoading)},dependencies:[f,g],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f8fafc}.loading-spinner[_ngcontent-%COMP%]{text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e2e8f0;border-left:4px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}"]})};export{v as RootRedirectComponent};
