import{m as v}from"./chunk-T6MQH65C.js";import{d as P,f as h}from"./chunk-SCSCM6ZC.js";import{Db as u,Fb as n,Hb as f,J as _,Oa as i,Ya as C,Z as d,ab as p,lb as c,ma as m,mb as e,nb as t,pc as b,uc as O,vb as s,xb as M}from"./chunk-Q3SXWR5O.js";function y(a,l){if(a&1&&(e(0,"div",16),n(1),t()),a&2){let r=M();i(),f(" ",r.errorMessage()," ")}}function S(a,l){a&1&&(e(0,"span",17),n(1,"\u23F3"),t())}var x=class a{authService=d(v);router=d(h);route=d(P);selectedRole=m(null);isLoading=m(!1);errorMessage=m("");returnUrl="/portal";ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/portal"}selectRole(l){this.selectedRole.set(l),this.errorMessage.set("")}onContinue(){let l=this.selectedRole();l&&(this.isLoading.set(!0),this.errorMessage.set(""),this.authService.updateUserRole(l).pipe(_(()=>this.isLoading.set(!1))).subscribe({next:()=>{console.log("Role updated successfully"),this.router.navigateByUrl(this.returnUrl)},error:r=>{this.errorMessage.set(r.message),console.error("Role update error:",r)}}))}signOut(){this.authService.signOutAndRedirect()}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=C({type:a,selectors:[["app-role-selection"]],decls:40,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"logo"],[1,"role-selection-form"],[1,"form-group"],[1,"role-options"],["type","button",1,"role-option",3,"click","disabled"],[1,"role-card"],[1,"role-icon"],[1,"role-content"],["class","auth-error",4,"ngIf"],["type","button",1,"submit-btn",3,"click","disabled"],["class","loading-spinner",4,"ngIf"],[1,"auth-footer"],["type","button",1,"text-btn",3,"click","disabled"],[1,"auth-error"],[1,"loading-spinner"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),n(5,"IMementor"),t()(),e(6,"h2"),n(7,"Complete Your Profile"),t(),e(8,"p"),n(9,"Please select your role to continue"),t()(),e(10,"div",4)(11,"div",5)(12,"label"),n(13,"I am a:"),t(),e(14,"div",6)(15,"button",7),s("click",function(){return o.selectRole("mentee")}),e(16,"div",8)(17,"div",9),n(18,"\u{1F393}"),t(),e(19,"div",10)(20,"h3"),n(21,"Mentee"),t(),e(22,"p"),n(23,"I'm looking for guidance and mentorship to grow in my career"),t()()()(),e(24,"button",7),s("click",function(){return o.selectRole("mentor")}),e(25,"div",8)(26,"div",9),n(27,"\u{1F468}\u200D\u{1F3EB}"),t(),e(28,"div",10)(29,"h3"),n(30,"Mentor"),t(),e(31,"p"),n(32,"I want to share my experience and help others succeed"),t()()()()()(),p(33,y,2,1,"div",11),e(34,"button",12),s("click",function(){return o.onContinue()}),p(35,S,2,0,"span",13),n(36),t(),e(37,"div",14)(38,"button",15),s("click",function(){return o.signOut()}),n(39," Sign out and try again "),t()()()()()),r&2&&(i(15),u("selected",o.selectedRole()==="mentee"),c("disabled",o.isLoading()),i(9),u("selected",o.selectedRole()==="mentor"),c("disabled",o.isLoading()),i(9),c("ngIf",o.errorMessage()),i(),c("disabled",!o.selectedRole()||o.isLoading()),i(),c("ngIf",o.isLoading()),i(),f(" ",o.isLoading()?"Saving...":"Continue"," "),i(2),c("disabled",o.isLoading()))},dependencies:[O,b],styles:[".role-selection-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.role-selection-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:2rem}.role-selection-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:1.5rem;font-size:1.25rem;font-weight:600;color:var(--text-primary)}.role-selection-form[_ngcontent-%COMP%]   .role-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media (min-width: 640px){.role-selection-form[_ngcontent-%COMP%]   .role-options[_ngcontent-%COMP%]{flex-direction:row;gap:1.5rem}}.role-selection-form[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]{flex:1;background:none;border:none;padding:0;cursor:pointer;transition:all .2s ease}.role-selection-form[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.role-selection-form[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px)}.role-selection-form[_ngcontent-%COMP%]   .role-option.selected[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{border-color:var(--primary-color);background:linear-gradient(135deg,var(--primary-color) 10,var(--primary-color) 20);box-shadow:0 8px 25px #6366f140}.role-selection-form[_ngcontent-%COMP%]   .role-option.selected[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-color)}.role-selection-form[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem 1.5rem;border:2px solid var(--border-light);border-radius:16px;background:var(--surface-light);transition:all .2s ease;text-align:center;min-height:180px}@media (min-width: 640px){.role-selection-form[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{min-height:200px;padding:2.5rem 2rem}}.role-selection-form[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color) 80;box-shadow:0 4px 15px #0000001a}.role-selection-form[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;filter:grayscale(.3);transition:filter .2s ease}.role-option.selected[_ngcontent-%COMP%]   .role-selection-form[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{filter:grayscale(0)}.role-selection-form[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.375rem;font-weight:700;color:var(--text-primary);transition:color .2s ease}.role-selection-form[_ngcontent-%COMP%]   .role-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--text-secondary);line-height:1.5}.role-selection-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s;margin-top:2rem}.role-selection-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.role-selection-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.role-selection-form[_ngcontent-%COMP%]   .text-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);font-size:.9rem;cursor:pointer;padding:.5rem;transition:color .2s ease}.role-selection-form[_ngcontent-%COMP%]   .text-btn[_ngcontent-%COMP%]:hover:not(:disabled){color:var(--primary-color)}.role-selection-form[_ngcontent-%COMP%]   .text-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.role-selection-form[_ngcontent-%COMP%]   .auth-error[_ngcontent-%COMP%]{color:#dc2626;background:#fef2f2;border:1px solid #fecaca;padding:.75rem 1rem;border-radius:.5rem;font-size:.875rem;margin:1.5rem 0}.role-selection-form[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.role-selection-form[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:.5rem}@media (prefers-color-scheme: dark){.role-selection-form[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{background:var(--surface-dark);border-color:var(--border-dark)}.role-selection-form[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color) 60;box-shadow:0 4px 15px #0000004d}.role-selection-form[_ngcontent-%COMP%]   .role-option.selected[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 15,var(--primary-color) 25);box-shadow:0 8px 25px #6366f166}}"]})};export{x as RoleSelectionComponent};
