import{b as z,c as b,d as I,e as T,h as A,k as D,n as L,u as N,w as R}from"./chunk-6WQEZQPY.js";import{m as F}from"./chunk-T6MQH65C.js";import{f as k,g as S,i as E}from"./chunk-SCSCM6ZC.js";import{Db as x,Fb as r,Gb as w,Hb as p,J as M,Oa as i,Ya as h,Z as f,ab as m,ca as u,da as _,lb as c,ma as g,mb as n,nb as o,ob as O,pc as v,ub as C,uc as y,vb as P,xb as d}from"./chunk-Q3SXWR5O.js";function j(t,a){t&1&&(n(0,"span"),r(1,"Email is required"),o())}function Y(t,a){t&1&&(n(0,"span"),r(1,"Please enter a valid email"),o())}function G(t,a){if(t&1&&(n(0,"div",16),m(1,j,2,0,"span",17)(2,Y,2,0,"span",17),o()),t&2){let e,l,s=d(2);i(),c("ngIf",(e=s.forgotPasswordForm.get("email"))==null||e.errors==null?null:e.errors.required),i(),c("ngIf",(l=s.forgotPasswordForm.get("email"))==null||l.errors==null?null:l.errors.email)}}function W(t,a){if(t&1&&(n(0,"div",18),r(1),o()),t&2){let e=d(2);i(),p(" ",e.errorMessage()," ")}}function q(t,a){t&1&&(n(0,"span",19),r(1,"\u23F3"),o())}function B(t,a){if(t&1){let e=C();n(0,"form",8),P("ngSubmit",function(){u(e);let s=d();return _(s.onSubmit())}),n(1,"div",9)(2,"label",10),r(3,"Email Address"),o(),O(4,"input",11),m(5,G,3,2,"div",12),o(),m(6,W,2,1,"div",13),n(7,"button",14),m(8,q,2,0,"span",15),r(9),o()()}if(t&2){let e,l,s=d();c("formGroup",s.forgotPasswordForm),i(4),x("error",((e=s.forgotPasswordForm.get("email"))==null?null:e.invalid)&&((e=s.forgotPasswordForm.get("email"))==null?null:e.touched)),i(),c("ngIf",((l=s.forgotPasswordForm.get("email"))==null?null:l.invalid)&&((l=s.forgotPasswordForm.get("email"))==null?null:l.touched)),i(),c("ngIf",s.errorMessage()),i(),c("disabled",s.forgotPasswordForm.invalid||s.isLoading()),i(),c("ngIf",s.isLoading()),i(),p(" ",s.isLoading()?"Sending...":"Send Reset Link"," ")}}function U(t,a){t&1&&(n(0,"span",19),r(1,"\u23F3"),o())}function H(t,a){t&1&&(n(0,"span"),r(1,"Send Again"),o())}function J(t,a){if(t&1&&(n(0,"span"),r(1),o()),t&2){let e=d(2);i(),p(" Send Again in ",e.cooldownTime(),"s ")}}function K(t,a){if(t&1){let e=C();n(0,"div",20)(1,"div",21)(2,"span",22),r(3,"\u2705"),o(),n(4,"h3"),r(5,"Reset Link Sent!"),o(),n(6,"p"),r(7,"We've sent a password reset link to "),n(8,"strong"),r(9),o()(),n(10,"p"),r(11,"Please check your email and follow the instructions to reset your password."),o()(),n(12,"div",23)(13,"h4"),r(14,"Didn't receive the email?"),o(),n(15,"ul")(16,"li"),r(17,"Check your spam or junk folder"),o(),n(18,"li"),r(19,"Make sure the email address is correct"),o(),n(20,"li"),r(21,"Wait a few minutes for the email to arrive"),o()()(),n(22,"button",24),P("click",function(){u(e);let s=d();return _(s.resendResetEmail())}),m(23,U,2,0,"span",15)(24,H,2,0,"span",17)(25,J,2,1,"span",17),o()()}if(t&2){let e=d();i(9),w(e.emailAddress()),i(13),c("disabled",e.isLoading()||e.cooldownActive()),i(),c("ngIf",e.isLoading()),i(),c("ngIf",!e.cooldownActive()&&!e.isLoading()),i(),c("ngIf",e.cooldownActive()&&!e.isLoading())}}var V=class t{fb=f(N);authService=f(F);router=f(k);isLoading=g(!1);errorMessage=g("");emailSent=g(!1);emailAddress=g("");cooldownActive=g(!1);cooldownTime=g(0);forgotPasswordForm;cooldownTimer;constructor(){this.forgotPasswordForm=this.fb.group({email:["",[b.required,b.email]]})}ngOnDestroy(){this.cooldownTimer&&clearInterval(this.cooldownTimer)}onSubmit(){this.forgotPasswordForm.valid?this.sendResetEmail():this.forgotPasswordForm.get("email")?.markAsTouched()}sendResetEmail(){this.isLoading.set(!0),this.errorMessage.set("");let a=this.forgotPasswordForm.value.email;this.authService.sendPasswordResetEmail(a).pipe(M(()=>this.isLoading.set(!1))).subscribe({next:()=>{this.emailSent.set(!0),this.emailAddress.set(a),this.startCooldown()},error:e=>{this.errorMessage.set(e.message),console.error("Reset password error:",e)}})}resendResetEmail(){this.sendResetEmail()}startCooldown(){this.cooldownActive.set(!0),this.cooldownTime.set(60),this.cooldownTimer=setInterval(()=>{let a=this.cooldownTime()-1;this.cooldownTime.set(a),a<=0&&(this.cooldownActive.set(!1),clearInterval(this.cooldownTimer))},1e3)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-forgot-password"]],decls:16,vars:2,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"forgot-icon"],["class","auth-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","success-content",4,"ngIf"],[1,"auth-footer"],["routerLink","/auth/login",1,"auth-link"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email address",1,"form-control"],["class","error-message",4,"ngIf"],["class","auth-error",4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],["class","loading-spinner",4,"ngIf"],[1,"error-message"],[4,"ngIf"],[1,"auth-error"],[1,"loading-spinner"],[1,"success-content"],[1,"auth-success"],[1,"success-icon"],[1,"help-info"],["type","button",1,"resend-btn",3,"click","disabled"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4,"\u{1F512}"),o(),n(5,"h2"),r(6,"Reset Password"),o(),n(7,"p"),r(8,"Enter your email address and we'll send you a link to reset your password."),o()(),m(9,B,10,8,"form",4)(10,K,26,5,"div",5),n(11,"div",6)(12,"p"),r(13,"Remember your password? "),n(14,"a",7),r(15,"Back to Login"),o()()()()()),e&2&&(i(9),c("ngIf",!l.emailSent()),i(),c("ngIf",l.emailSent()))},dependencies:[y,v,R,A,z,I,T,D,L,E,S],styles:['@charset "UTF-8";.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 40px #0000001a;padding:2.5rem;width:100%;max-width:420px;position:relative;overflow:hidden}.auth-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:1rem}.auth-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#667eea;margin:0;letter-spacing:-.02em}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;font-size:.875rem}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:.5rem;font-size:.875rem}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e5e7eb;border-radius:8px;font-size:1rem;transition:all .2s ease;background:#fafafa}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#fef2f2}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.error[_ngcontent-%COMP%]:focus{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-container[_ngcontent-%COMP%]{position:relative}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-container[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:1rem;color:#6b7280;padding:.25rem;border-radius:4px}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-container[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{background:#f3f4f6}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem;display:block;font-weight:500}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;color:#6b7280;cursor:pointer}.form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:.5rem;cursor:pointer}.form-options[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:.875rem;font-weight:500}.form-options[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 16px #667eea4d}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.submit-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.divider[_ngcontent-%COMP%]{text-align:center;margin:2rem 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e5e7eb}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 1rem;color:#6b7280;font-size:.875rem;position:relative}.social-login[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:2rem}.social-btn[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid #e5e7eb;border-radius:8px;background:#fff;color:#374151;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.social-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#d1d5db;background:#f9fafb}.social-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.social-btn[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{font-size:1rem}.social-btn.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ea4335;color:#ea4335}.social-btn.facebook-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1877f2;color:#1877f2}.auth-footer[_ngcontent-%COMP%]{text-align:center}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0}.auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-error[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#ef444405;border-radius:8px;pointer-events:none}.auth-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0;border-left:4px solid #22c55e;color:#15803d;padding:1rem 1.25rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500;display:flex;align-items:flex-start;gap:.75rem;position:relative;animation:_ngcontent-%COMP%_slideInSuccess .3s ease-out}.auth-success[_ngcontent-%COMP%]:before{content:"\\2705";font-size:1.1rem;flex-shrink:0;margin-top:-.1rem}.auth-success[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#22c55e05;border-radius:8px;pointer-events:none}.auth-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffbeb,#fef3c7);border:1px solid #fde68a;border-left:4px solid #f59e0b;color:#d97706;padding:1rem 1.25rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500;display:flex;align-items:flex-start;gap:.75rem;position:relative;animation:_ngcontent-%COMP%_slideInWarning .3s ease-out}.auth-warning[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f";font-size:1.1rem;flex-shrink:0;margin-top:-.1rem}.auth-warning[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#f59e0b05;border-radius:8px;pointer-events:none}.role-selection[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.role-selection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem!important;font-weight:600!important;margin-bottom:.75rem!important}.role-selection[_ngcontent-%COMP%]   .role-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-bottom:.5rem}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]{cursor:pointer}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-radio[_ngcontent-%COMP%]{display:none}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]{border:2px solid #e5e7eb;border-radius:8px;padding:.75rem;text-align:center;transition:all .2s ease;background:#fafafa;position:relative;display:flex;flex-direction:column;align-items:center;gap:.25rem}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8faff}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{font-size:1.25rem}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#374151}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-radio[_ngcontent-%COMP%]:checked + .role-card[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#f8faff,#eef2ff);box-shadow:0 2px 8px #667eea26}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-radio[_ngcontent-%COMP%]:checked + .role-card[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:.25rem;right:.25rem;background:#667eea;color:#fff;border-radius:50%;width:1rem;height:1rem;display:flex;align-items:center;justify-content:center;font-size:.625rem;font-weight:700}.role-selection[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%]   .role-radio[_ngcontent-%COMP%]:checked + .role-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#667eea;font-weight:600}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_slideInWarning{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:.5rem}.auth-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.auth-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.social-login[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.forgot-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#6b7280}.success-content[_ngcontent-%COMP%]{text-align:center}.success-message[_ngcontent-%COMP%]{background:#d1fae5;border:1px solid #a7f3d0;border-radius:8px;padding:1.5rem;margin-bottom:2rem}.success-message[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:2rem;display:block;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#065f46;margin:0 0 1rem;font-size:1.25rem;font-weight:600}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#047857;margin:0 0 .75rem;line-height:1.5}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.help-info[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;padding:1.5rem;margin-bottom:2rem;text-align:left}.help-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#374151;margin:0 0 1rem}.help-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem}.help-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin-bottom:.5rem;line-height:1.4}.help-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.resend-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;background:#fff;color:#374151;border:2px solid #e5e7eb;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:2rem}.resend-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#d1d5db}.resend-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.resend-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.auth-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);border:1px solid #fecaca;border-left:4px solid #ef4444;color:#dc2626;padding:1rem 1.25rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500;display:flex;align-items:flex-start;gap:.75rem;position:relative;animation:_ngcontent-%COMP%_slideInError .3s ease-out}.auth-error[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f";font-size:1.1rem;flex-shrink:0;margin-top:-.1rem}.auth-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0;border-left:4px solid #22c55e;color:#15803d;padding:1rem 1.25rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;font-weight:500;display:flex;flex-direction:column;gap:.5rem;position:relative;animation:_ngcontent-%COMP%_slideInSuccess .3s ease-out}.auth-success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#15803d}.auth-success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.auth-success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.auth-success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}@keyframes _ngcontent-%COMP%_slideInError{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInSuccess{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.forgot-icon[_ngcontent-%COMP%]{font-size:2.5rem}.success-message[_ngcontent-%COMP%], .help-info[_ngcontent-%COMP%]{padding:1rem}.help-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}']})};export{V as ForgotPasswordComponent};
